import React from "react";
import "../MobileHeader/MobileHeader.css";
import Image from "next/image";
import DaynamicMobileno from "@/app/DaynamicMobileno/DaynamicMobileno";
import Link from "next/link";

const CallUsPopup = ({ contactData }) => {
  const panelImg = process.env.NEXT_PUBLIC_IMAGES;
  const callPhone = (mobileNumber) => {
    const formattedNumber = mobileNumber.replace(/-/g, "");
    window.location.href = `tel:${formattedNumber}`;
  };

  const openWhatsApp = (mobileNumber) => {
    const formattedNumber = mobileNumber.replace(/-/g, "");
    window.open(`https://api.whatsapp.com/send?phone=${formattedNumber}`);
  };

  // For Robot whats app number
  const openWhatsApp1 = () => {
    window.open("https://api.whatsapp.com/send?phone=917009170092");
  };

  const shuffle = (array) => {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  };

  // Usage
  const myArray = contactData;
  const shuffledArray = shuffle(myArray);

  return (
    <section className={`MobileHeader-contact-us-section-os`}>
      <div className="MobileHeader-contact-us-content-os">
        <div className="MobileHeader-contact-us-content-heading-os">
          Contact Us
        </div>
        <ul className="MobileHeader-contact-us-content-list-os">
          {Array.isArray(shuffledArray) &&
            shuffledArray.map((contact, index) => (
              <li key={index}>
                <div className="MobileHeader-contact-us-content-col-1-os">
                  <div className="contact-us-profile-alphabet-os">
                    {contact.firstname.split("")[0].charAt(0)
                      ? contact.firstname.split("")[0].charAt(0)
                      : contact.firstname.split(" ")[1].charAt(0)}
                  </div>
                  <div className="contact-us-profile-name-contact-num-os">
                    <span className="contact-us-profile-name-os">
                      {contact?.firstname}
                    </span>
                    <span className="contact-us-profile-contact-num-os">
                      {contact?.mobile}
                    </span>
                  </div>
                </div>
                <div className="flex  gap-1">
                  <Link
                    href={`https://wa.me/91${contact?.mobile.replace(
                      /-/g,
                      ""
                    )}`}
                    target="_blank"
                  >
                    <button
                      // onClick={() => openWhatsApp(contact?.mobile)}
                      aria-label="whats-app"
                    >
                      <svg
                        className="cursor-pointer rounded-md shadow-md shadow-transparent transition-all duration-300 hover:shadow-green-200"
                        xmlns="http://www.w3.org/2000/svg"
                        width="48"
                        height="48"
                        viewBox="0 0 93 92"
                        fill="none"
                      >
                        <rect
                          x="1.13867"
                          width="91.5618"
                          height="91.5618"
                          rx="15"
                          fill="#ECFFF5"
                        />
                        <path
                          d="M23.5762 66.8405L26.8608 54.6381C24.2118 49.8847 23.3702 44.3378 24.4904 39.0154C25.6106 33.693 28.6176 28.952 32.9594 25.6624C37.3012 22.3729 42.6867 20.7554 48.1276 21.1068C53.5685 21.4582 58.6999 23.755 62.5802 27.5756C66.4604 31.3962 68.8292 36.4844 69.2519 41.9065C69.6746 47.3286 68.1228 52.7208 64.8813 57.0938C61.6399 61.4668 56.9261 64.5271 51.605 65.7133C46.284 66.8994 40.7125 66.1318 35.9131 63.5513L23.5762 66.8405ZM36.508 58.985L37.2709 59.4365C40.7473 61.4918 44.8076 62.3423 48.8191 61.8555C52.8306 61.3687 56.5681 59.5719 59.4489 56.7452C62.3298 53.9185 64.1923 50.2206 64.7463 46.2279C65.3002 42.2351 64.5143 38.1717 62.5113 34.6709C60.5082 31.1701 57.4003 28.4285 53.6721 26.8734C49.9438 25.3184 45.8045 25.0372 41.8993 26.0736C37.994 27.11 34.5422 29.4059 32.0817 32.6035C29.6212 35.801 28.2903 39.7206 28.2963 43.7514C28.293 47.0937 29.2197 50.3712 30.9732 53.2192L31.4516 54.0061L29.6153 60.8167L36.508 58.985Z"
                          fill="#00D95F"
                        />
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M55.0259 46.8847C54.5787 46.5249 54.0549 46.2716 53.4947 46.1442C52.9344 46.0168 52.3524 46.0186 51.793 46.1495C50.9524 46.4977 50.4093 47.8134 49.8661 48.4713C49.7516 48.629 49.5833 48.7396 49.3928 48.7823C49.2024 48.8251 49.0028 48.797 48.8316 48.7034C45.7543 47.5012 43.1748 45.2965 41.5122 42.4475C41.3704 42.2697 41.3033 42.044 41.325 41.8178C41.3467 41.5916 41.4555 41.3827 41.6286 41.235C42.2344 40.6368 42.6791 39.8959 42.9218 39.0809C42.9756 38.1818 42.7691 37.2863 42.3269 36.5011C41.985 35.4002 41.3344 34.42 40.4518 33.6762C39.9966 33.472 39.4919 33.4036 38.9985 33.4791C38.5052 33.5546 38.0443 33.7709 37.6715 34.1019C37.0242 34.6589 36.5104 35.3537 36.168 36.135C35.8256 36.9163 35.6632 37.7643 35.6929 38.6165C35.6949 39.0951 35.7557 39.5716 35.8739 40.0354C36.1742 41.1497 36.636 42.2144 37.2447 43.1956C37.6839 43.9473 38.163 44.6749 38.6801 45.3755C40.3607 47.6767 42.4732 49.6305 44.9003 51.1284C46.1183 51.8897 47.42 52.5086 48.7799 52.973C50.1924 53.6117 51.752 53.8568 53.2931 53.6824C54.1711 53.5499 55.003 53.2041 55.7156 52.6755C56.4281 52.1469 56.9995 51.4518 57.3795 50.6512C57.6028 50.1675 57.6705 49.6269 57.5735 49.1033C57.3407 48.0327 55.9053 47.4007 55.0259 46.8847Z"
                          fill="#00D95F"
                        />
                      </svg>
                    </button>
                  </Link>
                  <button
                    onClick={() => callPhone(contact?.mobile)}
                    aria-label="call-icon"
                  >
                    <svg
                      class="cursor-pointer rounded-md shadow-md shadow-transparent transition-all duration-300 hover:shadow-violet-200"
                      xmlns="http://www.w3.org/2000/svg"
                      width="48"
                      height="48"
                      viewBox="0 0 92 93"
                      fill="none"
                    >
                      <rect
                        x="0.138672"
                        y="1"
                        width="91.5618"
                        height="91.5618"
                        rx="15"
                        fill="#F9F1FF"
                      />
                      <path
                        d="M35.4663 64.818C35.4663 64.0512 35.4663 63.2844 35.4663 62.5176C35.4717 62.4862 35.4706 62.4541 35.463 62.4232C35.4554 62.3923 35.4415 62.3632 35.4221 62.3379C35.4027 62.3125 35.3783 62.2913 35.3503 62.2757C35.3223 62.26 35.2914 62.2503 35.2595 62.2469C33.3396 61.707 31.5676 60.7451 30.0755 59.4329C28.9883 58.4538 28.0831 57.2935 27.4011 56.0047C26.4398 54.143 25.8001 52.1352 25.5084 50.0644C25.147 47.4669 25.0214 44.8424 25.1333 42.2227C25.1579 41.0013 25.2209 39.7938 25.3611 38.5724C25.5847 36.2515 26.1762 33.9798 27.1137 31.841C28.2713 29.2112 30.3715 27.0989 33.0092 25.9111C34.806 25.0971 36.6963 24.5029 38.6384 24.1415C40.5428 23.7844 42.471 23.5652 44.4077 23.4857C46.1534 23.4246 47.9011 23.4501 49.6443 23.5621C52.1391 23.6663 54.6114 24.0754 57.0049 24.78C58.7795 25.2864 60.4677 26.0524 62.0137 27.0527C63.5199 28.0763 64.7382 29.4627 65.5538 31.0811C66.5126 32.9714 67.1644 34.9996 67.4851 37.0908C67.6934 38.3324 67.8304 39.5847 67.8952 40.8417C67.9863 42.3996 67.9758 43.9645 67.9162 45.5155C67.8566 47.0665 67.7234 48.5724 67.5307 50.0922C67.287 52.3732 66.5787 54.5817 65.4486 56.5842C63.9777 59.1174 61.6214 61.0303 58.8241 61.9624C56.9113 62.6255 54.9363 63.0974 52.9285 63.3711C51.4599 63.5724 49.9878 63.7181 48.5086 63.7771C47.3765 63.8292 46.2444 63.8153 45.1122 63.7979C44.4708 63.7979 43.8329 63.7355 43.1949 63.6799C43.1323 63.6683 43.0676 63.6752 43.009 63.6999C42.9503 63.7246 42.9004 63.766 42.8655 63.8187C41.5756 65.3524 40.2367 66.8444 38.8872 68.3295C38.6414 68.6004 38.3568 68.8342 38.0425 69.0234C37.8362 69.1574 37.6009 69.2415 37.3557 69.2689C37.1105 69.2963 36.8622 69.2663 36.6309 69.1811C36.3996 69.096 36.1918 68.9583 36.0242 68.779C35.8566 68.5997 35.7339 68.3839 35.6661 68.1491C35.5325 67.7317 35.4662 67.2961 35.4698 66.8583C35.4663 66.1713 35.4663 65.4947 35.4663 64.818ZM37.026 67.7292L37.1908 67.5765L40.1175 64.36C41.2438 63.1225 42.3689 61.8837 43.4929 60.6439C43.5481 60.5682 43.6227 60.5085 43.7089 60.4707C43.7951 60.4329 43.8899 60.4184 43.9836 60.4287C44.3656 60.4669 44.7477 60.4808 45.1332 60.4843C46.4652 60.4843 47.7971 60.4843 49.129 60.3906C50.3383 60.2969 51.544 60.1512 52.7428 59.9638C54.0334 59.7414 55.3111 59.4506 56.5703 59.0929C59.3744 58.3469 61.544 56.7507 62.9075 54.1657C63.7124 52.5764 64.2173 50.8549 64.3971 49.0859C64.6102 47.4187 64.7377 45.7417 64.7792 44.0617C64.8413 41.9511 64.6957 39.8396 64.3445 37.757C64.101 36.2482 63.6628 34.7765 63.0407 33.3781C62.2485 31.6432 61.1269 30.2067 59.3989 29.2838C56.7491 27.8681 53.8819 27.2366 50.9271 26.9139C50.0894 26.8237 49.2517 26.7751 48.4105 26.7439C46.688 26.656 44.9619 26.6652 43.2405 26.7716C42.0025 26.8626 40.7712 27.0271 39.5532 27.2643C37.7619 27.5876 36.0291 28.1723 34.4112 28.9992C33.4733 29.4684 32.6224 30.0913 31.8946 30.8417C30.715 32.1468 29.8498 33.6998 29.3639 35.3837C28.7876 37.3448 28.473 39.3722 28.4281 41.4142C28.3153 43.4562 28.3411 45.5033 28.5052 47.5419C28.6073 48.7551 28.8125 49.9575 29.1186 51.1366C29.574 52.974 30.4575 54.6804 31.6983 56.1192C33.038 57.5872 34.7694 58.6505 36.693 59.1866C36.9349 59.2594 37.0435 59.3427 37.0435 59.6133C37.0225 60.6126 37.0435 61.6119 37.0435 62.6112L37.026 67.7292Z"
                        fill="#754A91"
                      />
                      <path
                        d="M34.5732 36.7373C34.5487 35.9774 34.9658 35.4257 35.4705 34.9295C36.1362 34.2982 36.8696 33.7409 37.6577 33.2675C38.017 33.0481 38.4443 32.9645 38.861 33.0321C39.2776 33.0996 39.6556 33.3138 39.9254 33.6353C40.8789 34.6275 41.7324 35.7094 42.4736 36.8657C42.8407 37.3858 43.1179 37.9627 43.2938 38.5728C43.3641 38.8109 43.3687 39.0633 43.3071 39.3037C43.2454 39.5442 43.1198 39.7638 42.9433 39.9399C42.539 40.3328 42.108 40.698 41.6534 41.0329C41.4244 41.2136 41.2541 41.457 41.1637 41.7328C41.0734 42.0085 41.0669 42.3045 41.1452 42.5839C41.4259 43.8958 42.062 45.1072 42.9854 46.0884C44.1073 47.4443 45.5529 48.5021 47.1915 49.1661C47.5941 49.3711 48.0554 49.4335 48.4988 49.3431C48.7417 49.2775 48.9575 49.1379 49.1157 48.9441C49.3611 48.6352 49.6275 48.3368 49.8483 48.0072C50.1347 47.596 50.572 47.3119 51.067 47.2153C51.562 47.1187 52.0756 47.2174 52.4981 47.4902C53.6863 48.1726 54.808 48.9625 55.849 49.8497C56.0943 50.0579 56.3502 50.2591 56.5956 50.4708C56.8859 50.69 57.0955 50.9974 57.1924 51.3458C57.2893 51.6943 57.268 52.0646 57.1318 52.4C56.9153 52.9639 56.5996 53.4855 56.1995 53.9406C55.7022 54.6247 55.0688 55.201 54.3383 55.6338C53.9891 55.8369 53.5967 55.9561 53.1925 55.982C52.7884 56.0079 52.3837 55.9398 52.0109 55.783C49.1751 54.6528 46.5253 53.1103 44.1491 51.2064C41.8248 49.3123 39.7937 47.0911 38.1203 44.6137C36.7123 42.5629 35.5921 40.3322 34.7905 37.9829C34.7052 37.6988 34.635 37.4104 34.5802 37.119C34.5646 36.9923 34.5623 36.8644 34.5732 36.7373Z"
                        fill="#754A91"
                      />
                      <path
                        d="M46.6744 33.0453C49.0471 33.0887 51.3291 33.9551 53.1226 35.4934C54.9161 37.0317 56.1073 39.1444 56.4886 41.463C56.6421 42.3061 56.7242 43.1603 56.734 44.0168C56.734 44.2181 56.6814 44.3638 56.4641 44.3846C56.2468 44.4054 56.1907 44.2215 56.1907 44.0376C56.2233 42.3051 55.864 40.5872 55.1392 39.0099C54.5288 37.7138 53.6246 36.5746 52.4969 35.6809C51.3692 34.7872 50.0484 34.1631 48.6373 33.8572C47.8912 33.6862 47.1283 33.5978 46.3625 33.5935C46.2879 33.5948 46.2135 33.5855 46.1417 33.5658C46.0805 33.5487 46.0284 33.5088 45.9963 33.4544C45.9643 33.4 45.9548 33.3355 45.9699 33.2743C45.9704 33.2453 45.9766 33.2167 45.9884 33.1901C46.0001 33.1635 46.0171 33.1395 46.0383 33.1195C46.0595 33.0995 46.0845 33.0838 46.1119 33.0735C46.1393 33.0631 46.1685 33.0583 46.1977 33.0592C46.3555 33.0384 46.5167 33.0453 46.6744 33.0453Z"
                        fill="#754A91"
                      />
                      <path
                        d="M53.4406 42.4553C53.4288 41.4913 53.189 40.5435 52.7404 39.6879C52.2918 38.8322 51.6469 38.0925 50.8574 37.5282C49.9359 36.8874 48.8647 36.4898 47.7449 36.3727C47.5556 36.3485 47.3663 36.338 47.1735 36.3172C46.9807 36.2964 46.8651 36.2166 46.8826 36.0223C46.9001 35.828 47.0228 35.7586 47.2331 35.7725C50.3386 35.9598 52.9814 37.6982 53.7946 40.9355C53.9433 41.5598 54.0175 42.1991 54.0154 42.8405C54.0154 42.8994 54.0154 42.9584 54.0154 43.0139C54.0154 43.1874 53.9033 43.3019 53.7315 43.2985C53.6934 43.2972 53.656 43.2883 53.6215 43.2722C53.587 43.2561 53.5562 43.2333 53.531 43.205C53.5057 43.1768 53.4865 43.1437 53.4746 43.1079C53.4627 43.072 53.4583 43.0342 53.4616 42.9966C53.4336 42.8335 53.4406 42.667 53.4406 42.4553Z"
                        fill="#754A91"
                      />
                      <path
                        d="M47.9996 38.5898C49.7031 38.7043 50.8913 39.5301 51.2173 41.324C51.2568 41.5538 51.2849 41.7854 51.3014 42.018C51.3014 42.2053 51.2593 42.3649 51.0525 42.3649C50.8457 42.3649 50.7756 42.2262 50.7686 42.018C50.7667 41.3303 50.5527 40.6597 50.1552 40.0957C49.7376 39.5849 49.1379 39.2521 48.4798 39.1658C48.3327 39.1385 48.184 39.12 48.0347 39.1103C47.7893 39.1103 47.6526 38.9888 47.6842 38.8015C47.7157 38.6141 47.8629 38.5794 47.9996 38.5898Z"
                        fill="#754A91"
                      />
                    </svg>
                  </button>
                </div>
              </li>
            ))}

          <li>
            <div className="MobileHeader-contact-us-content-col-1-os">
              <div className="contact-us-profile-alphabet-os">R</div>
              <div className="contact-us-profile-name-contact-num-os">
                <span className="contact-us-profile-name-os">Robot (24x7)</span>
                <span className="contact-us-profile-contact-num-os">
                  {/* 70091-70092 */}
                  <DaynamicMobileno />
                </span>
              </div>
            </div>

            <Link href="https://wa.me/917009170092" target="_blank">
              <button onClick={openWhatsApp1} aria-label="whats-app">
                <svg
                  class="cursor-pointer rounded-md shadow-md shadow-transparent transition-all duration-300 hover:shadow-green-200"
                  xmlns="http://www.w3.org/2000/svg"
                  width="48"
                  height="48"
                  viewBox="0 0 93 92"
                  fill="none"
                >
                  <rect
                    x="1.13867"
                    width="91.5618"
                    height="91.5618"
                    rx="15"
                    fill="#ECFFF5"
                  />
                  <path
                    d="M23.5762 66.8405L26.8608 54.6381C24.2118 49.8847 23.3702 44.3378 24.4904 39.0154C25.6106 33.693 28.6176 28.952 32.9594 25.6624C37.3012 22.3729 42.6867 20.7554 48.1276 21.1068C53.5685 21.4582 58.6999 23.755 62.5802 27.5756C66.4604 31.3962 68.8292 36.4844 69.2519 41.9065C69.6746 47.3286 68.1228 52.7208 64.8813 57.0938C61.6399 61.4668 56.9261 64.5271 51.605 65.7133C46.284 66.8994 40.7125 66.1318 35.9131 63.5513L23.5762 66.8405ZM36.508 58.985L37.2709 59.4365C40.7473 61.4918 44.8076 62.3423 48.8191 61.8555C52.8306 61.3687 56.5681 59.5719 59.4489 56.7452C62.3298 53.9185 64.1923 50.2206 64.7463 46.2279C65.3002 42.2351 64.5143 38.1717 62.5113 34.6709C60.5082 31.1701 57.4003 28.4285 53.6721 26.8734C49.9438 25.3184 45.8045 25.0372 41.8993 26.0736C37.994 27.11 34.5422 29.4059 32.0817 32.6035C29.6212 35.801 28.2903 39.7206 28.2963 43.7514C28.293 47.0937 29.2197 50.3712 30.9732 53.2192L31.4516 54.0061L29.6153 60.8167L36.508 58.985Z"
                    fill="#00D95F"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M55.0259 46.8847C54.5787 46.5249 54.0549 46.2716 53.4947 46.1442C52.9344 46.0168 52.3524 46.0186 51.793 46.1495C50.9524 46.4977 50.4093 47.8134 49.8661 48.4713C49.7516 48.629 49.5833 48.7396 49.3928 48.7823C49.2024 48.8251 49.0028 48.797 48.8316 48.7034C45.7543 47.5012 43.1748 45.2965 41.5122 42.4475C41.3704 42.2697 41.3033 42.044 41.325 41.8178C41.3467 41.5916 41.4555 41.3827 41.6286 41.235C42.2344 40.6368 42.6791 39.8959 42.9218 39.0809C42.9756 38.1818 42.7691 37.2863 42.3269 36.5011C41.985 35.4002 41.3344 34.42 40.4518 33.6762C39.9966 33.472 39.4919 33.4036 38.9985 33.4791C38.5052 33.5546 38.0443 33.7709 37.6715 34.1019C37.0242 34.6589 36.5104 35.3537 36.168 36.135C35.8256 36.9163 35.6632 37.7643 35.6929 38.6165C35.6949 39.0951 35.7557 39.5716 35.8739 40.0354C36.1742 41.1497 36.636 42.2144 37.2447 43.1956C37.6839 43.9473 38.163 44.6749 38.6801 45.3755C40.3607 47.6767 42.4732 49.6305 44.9003 51.1284C46.1183 51.8897 47.42 52.5086 48.7799 52.973C50.1924 53.6117 51.752 53.8568 53.2931 53.6824C54.1711 53.5499 55.003 53.2041 55.7156 52.6755C56.4281 52.1469 56.9995 51.4518 57.3795 50.6512C57.6028 50.1675 57.6705 49.6269 57.5735 49.1033C57.3407 48.0327 55.9053 47.4007 55.0259 46.8847Z"
                    fill="#00D95F"
                  />
                </svg>
              </button>
            </Link>
          </li>
        </ul>
      </div>
    </section>
  );
};

export default CallUsPopup;
